{
    "events": [
        {
            "timestamp": 1764523300916,
            "message": "  customerId: 'cus_TWGr9wsJ0j9JK7',",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300916,
            "message": "  tier: 'elite'",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300916,
            "message": "}",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300922,
            "message": "[Webhook:evt_1SZEJcHqcH7hy1ecdSTZCran] Updating user b7bd0a33-fc85-4f23-84b3-91f14dc9415d: {",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300922,
            "message": "  status: 'active',",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300922,
            "message": "  stripeCustomerId: 'cus_TWGr9wsJ0j9JK7',",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300922,
            "message": "  stripeSubscriptionId: null,",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300922,
            "message": "  tier: 'elite'",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300922,
            "message": "}",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300931,
            "message": "[Webhook:evt_1SZEJcHqcH7hy1ecdSTZCran] Successfully updated user b7bd0a33-fc85-4f23-84b3-91f14dc9415d subscription",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300940,
            "message": "[WebhookEvents] CRITICAL: Failed to mark event evt_1SZEJcHqcH7hy1ecdSTZCran as processed: AccessDeniedException: User: arn:aws:sts::920013187591:assumed-role/SpotterTaskRole/5ecee310de52431c98af52429dc4b714 is not authorized to perform: dynamodb:PutItem on resource: arn:aws:dynamodb:us-east-1:920013187591:table/spotter-webhook-events because no identity-based policy allows the dynamodb:PutItem action",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300940,
            "message": "    at <unknown> (.next/server/chunks/9725.js:1:1537)",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300940,
            "message": "    at <unknown> (.next/server/chunks/9725.js:1:1637)",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300940,
            "message": "    at ag (.next/server/chunks/3192.js:11:18617)",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300940,
            "message": "    at async (.next/server/chunks/9725.js:10:28771)",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300940,
            "message": "    at async (.next/server/chunks/3192.js:1:1244)",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300940,
            "message": "    at async (.next/server/chunks/9725.js:10:17175)",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300940,
            "message": "    at async (.next/server/chunks/9725.js:10:11498)",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300940,
            "message": "    at async (.next/server/chunks/3192.js:9:11254)",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300940,
            "message": "    at async Object.markProcessed (.next/server/chunks/4023.js:1:14631) {",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300940,
            "message": "  '$fault': 'client',",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300940,
            "message": "  '$response': [d],",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300940,
            "message": "  '$retryable': undefined,",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300940,
            "message": "  '$metadata': [Object],",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300940,
            "message": "  __type: 'com.amazon.coral.service#AccessDeniedException'",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300940,
            "message": "}",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300941,
            "message": "[Webhook:evt_1SZEJcHqcH7hy1ecdSTZCran] WARNING: Failed to mark event as processed (may be reprocessed on retry): AccessDeniedException: User: arn:aws:sts::920013187591:assumed-role/SpotterTaskRole/5ecee310de52431c98af52429dc4b714 is not authorized to perform: dynamodb:PutItem on resource: arn:aws:dynamodb:us-east-1:920013187591:table/spotter-webhook-events because no identity-based policy allows the dynamodb:PutItem action",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300941,
            "message": "    at <unknown> (.next/server/chunks/9725.js:1:1537)",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300941,
            "message": "    at <unknown> (.next/server/chunks/9725.js:1:1637)",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300941,
            "message": "    at ag (.next/server/chunks/3192.js:11:18617)",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300941,
            "message": "    at async (.next/server/chunks/9725.js:10:28771)",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300941,
            "message": "    at async (.next/server/chunks/3192.js:1:1244)",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300941,
            "message": "    at async (.next/server/chunks/9725.js:10:17175)",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300941,
            "message": "    at async (.next/server/chunks/9725.js:10:11498)",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300941,
            "message": "    at async (.next/server/chunks/3192.js:9:11254)",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300941,
            "message": "    at async Object.markProcessed (.next/server/chunks/4023.js:1:14631) {",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300941,
            "message": "  '$fault': 'client',",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300941,
            "message": "  '$response': [d],",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300941,
            "message": "  '$retryable': undefined,",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300941,
            "message": "  '$metadata': [Object],",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300941,
            "message": "  __type: 'com.amazon.coral.service#AccessDeniedException'",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523300941,
            "message": "}",
            "ingestionTime": 1764523303965
        },
        {
            "timestamp": 1764523333430,
            "message": "{\"timestamp\":\"2025-11-30T17:22:13.430Z\",\"level\":\"info\",\"message\":\"Flushing metrics\",\"metadata\":{\"count\":2,\"metrics\":[{\"name\":\"api.workouts.get\",\"value\":100,\"unit\":\"milliseconds\",\"timestamp\":\"2025-11-30T17:21:19.820Z\",\"dimensions\":{\"userId\":\"b7bd0a33-fc85-4f23-84b3-91f14dc9415d\"}},{\"name\":\"api.request\",\"value\":1,\"unit\":\"count\",\"timestamp\":\"2025-11-30T17:21:19.821Z\",\"dimensions\":{\"method\":\"GET\",\"path\":\"/api/workouts\",\"status\":\"200\"}}]}}",
            "ingestionTime": 1764523333965
        },
        {
            "timestamp": 1764523358333,
            "message": "[WebhookEvents] Error checking if event processed: AccessDeniedException: User: arn:aws:sts::920013187591:assumed-role/SpotterTaskRole/5ecee310de52431c98af52429dc4b714 is not authorized to perform: dynamodb:GetItem on resource: arn:aws:dynamodb:us-east-1:920013187591:table/spotter-webhook-events because no identity-based policy allows the dynamodb:GetItem action",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358333,
            "message": "    at <unknown> (.next/server/chunks/9725.js:1:1537)",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358333,
            "message": "    at <unknown> (.next/server/chunks/9725.js:1:1637)",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358333,
            "message": "    at ag (.next/server/chunks/3192.js:11:18617)",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358333,
            "message": "    at async (.next/server/chunks/9725.js:10:28771)",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358333,
            "message": "    at async (.next/server/chunks/3192.js:1:1244)",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358333,
            "message": "    at async (.next/server/chunks/9725.js:10:17175)",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358333,
            "message": "    at async (.next/server/chunks/9725.js:10:11498)",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358333,
            "message": "    at async (.next/server/chunks/3192.js:9:11254)",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358333,
            "message": "    at async Object.isProcessed (.next/server/chunks/4023.js:1:14377) {",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358333,
            "message": "  '$fault': 'client',",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358333,
            "message": "  '$response': [d],",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358333,
            "message": "  '$retryable': undefined,",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358333,
            "message": "  '$metadata': [Object],",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358333,
            "message": "  __type: 'com.amazon.coral.service#AccessDeniedException'",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358333,
            "message": "}",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358333,
            "message": "[Webhook:evt_1SZEKYHqcH7hy1ecx61MVbgD] invoice.payment.succeeded: {",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358333,
            "message": "  invoiceId: 'inpay_1SZEJYHqcH7hy1eceMBlql74',",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358333,
            "message": "  customerId: undefined,",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358333,
            "message": "  customerEmail: undefined,",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358333,
            "message": "  subscriptionId: undefined",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358333,
            "message": "}",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358333,
            "message": "[resolveUserByCustomer] No stripeCustomerId provided",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358333,
            "message": "[Webhook:evt_1SZEKYHqcH7hy1ecx61MVbgD] Invoice inpay_1SZEJYHqcH7hy1eceMBlql74 missing userId; skipping status update",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358333,
            "message": "[Webhook:evt_1SZEKYHqcH7hy1ecx61MVbgD] Resolved invoice context: { userId: null, subscriptionId: null, customerId: null, tier: null }",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358342,
            "message": "[WebhookEvents] CRITICAL: Failed to mark event evt_1SZEKYHqcH7hy1ecx61MVbgD as processed: AccessDeniedException: User: arn:aws:sts::920013187591:assumed-role/SpotterTaskRole/5ecee310de52431c98af52429dc4b714 is not authorized to perform: dynamodb:PutItem on resource: arn:aws:dynamodb:us-east-1:920013187591:table/spotter-webhook-events because no identity-based policy allows the dynamodb:PutItem action",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358342,
            "message": "    at <unknown> (.next/server/chunks/9725.js:1:1537)",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358342,
            "message": "    at <unknown> (.next/server/chunks/9725.js:1:1637)",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358342,
            "message": "    at ag (.next/server/chunks/3192.js:11:18617)",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358342,
            "message": "    at async (.next/server/chunks/9725.js:10:28771)",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358342,
            "message": "    at async (.next/server/chunks/3192.js:1:1244)",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358342,
            "message": "    at async (.next/server/chunks/9725.js:10:17175)",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358342,
            "message": "    at async (.next/server/chunks/9725.js:10:11498)",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358342,
            "message": "    at async (.next/server/chunks/3192.js:9:11254)",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358342,
            "message": "    at async Object.markProcessed (.next/server/chunks/4023.js:1:14631) {",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358342,
            "message": "  '$fault': 'client',",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358342,
            "message": "  '$response': [d],",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358342,
            "message": "  '$retryable': undefined,",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358342,
            "message": "  '$metadata': [Object],",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358342,
            "message": "  __type: 'com.amazon.coral.service#AccessDeniedException'",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358342,
            "message": "}",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358343,
            "message": "[Webhook:evt_1SZEKYHqcH7hy1ecx61MVbgD] WARNING: Failed to mark event as processed (may be reprocessed on retry): AccessDeniedException: User: arn:aws:sts::920013187591:assumed-role/SpotterTaskRole/5ecee310de52431c98af52429dc4b714 is not authorized to perform: dynamodb:PutItem on resource: arn:aws:dynamodb:us-east-1:920013187591:table/spotter-webhook-events because no identity-based policy allows the dynamodb:PutItem action",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358343,
            "message": "    at <unknown> (.next/server/chunks/9725.js:1:1537)",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358343,
            "message": "    at <unknown> (.next/server/chunks/9725.js:1:1637)",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358343,
            "message": "    at ag (.next/server/chunks/3192.js:11:18617)",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358343,
            "message": "    at async (.next/server/chunks/9725.js:10:28771)",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358343,
            "message": "    at async (.next/server/chunks/3192.js:1:1244)",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358343,
            "message": "    at async (.next/server/chunks/9725.js:10:17175)",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358343,
            "message": "    at async (.next/server/chunks/9725.js:10:11498)",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358343,
            "message": "    at async (.next/server/chunks/3192.js:9:11254)",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358343,
            "message": "    at async Object.markProcessed (.next/server/chunks/4023.js:1:14631) {",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358343,
            "message": "  '$fault': 'client',",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358343,
            "message": "  '$response': [d],",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358343,
            "message": "  '$retryable': undefined,",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358343,
            "message": "  '$metadata': [Object],",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358343,
            "message": "  __type: 'com.amazon.coral.service#AccessDeniedException'",
            "ingestionTime": 1764523358970
        },
        {
            "timestamp": 1764523358343,
            "message": "}",
            "ingestionTime": 1764523358970
        }
    ],
    "nextForwardToken": "f/39350185811262787416764296468914614275726957139153911864/s",
    "nextBackwardToken": "b/39350184530597892900746201253445576224107083729023795560/s"
}
